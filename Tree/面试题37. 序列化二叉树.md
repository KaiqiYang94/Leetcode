面试题37. [序列化二叉树](https://leetcode-cn.com/problems/xu-lie-hua-er-cha-shu-lcof/)
请实现两个函数，分别用来序列化和反序列化二叉树。

示例: 

你可以将以下二叉树：

```
    1
   / \
  2   3
     / \
    4   5

序列化为 "[1,2,3,null,null,4,5]"
```

注意：本题与主站 297 题相同：https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/

通过次数3,985提交次数7,901



## solution:

```c#
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     public int val;
 *     public TreeNode left;
 *     public TreeNode right;
 *     public TreeNode(int x) { val = x; }
 * }
 */
public class Codec {

    // Encodes a tree to a single string.
    public string serialize(TreeNode root) {
        List<TreeNode> list = new List<TreeNode>();
        list.Add(root);
        var str = "[" ;
        while(list.Any()){
            List<TreeNode> nextLevel = new List<TreeNode>();
            for(var i = 0 ;  i < list.Count(); i ++){
                if(list[i] == null) {
                    str = str + "null" + ",";
                    continue;
                }
                else{
                    str = str + list[i].val + ",";
                }
                nextLevel.Add(list[i].left);
                nextLevel.Add(list[i].right);

            }
            if(!nextLevel.Any(n => n!= null)) {break;}
            list = nextLevel;
        }
        str = str.TrimEnd(',');
        str += "]";
        Console.Write(str);
        return str;
    }

    // Decodes your encoded data to tree.
    public TreeNode deserialize(string data) {
        return new TreeNode();
    }
}

// Your Codec object will be instantiated and called as such:
// Codec codec = new Codec();
// codec.deserialize(codec.serialize(root));
```

